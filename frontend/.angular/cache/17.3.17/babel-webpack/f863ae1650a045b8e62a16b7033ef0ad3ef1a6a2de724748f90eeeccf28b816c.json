{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/list.service\";\nimport * as i3 from \"../../services/card.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction BoardDetailPageComponent_div_8_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function BoardDetailPageComponent_div_8_div_5_Template_button_click_2_listener() {\n      const c_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const l_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.delCard(l_r2.id, c_r5.id));\n    });\n    i0.ɵɵtext(3, \"X\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const c_r5 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", c_r5.title, \" \");\n  }\n}\nfunction BoardDetailPageComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function BoardDetailPageComponent_div_8_Template_button_click_3_listener() {\n      const l_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.delList(l_r2.id));\n    });\n    i0.ɵɵtext(4, \"X\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(5, BoardDetailPageComponent_div_8_div_5_Template, 4, 1, \"div\", 11);\n    i0.ɵɵelementStart(6, \"input\", 12, 0);\n    i0.ɵɵlistener(\"keyup.enter\", function BoardDetailPageComponent_div_8_Template_input_keyup_enter_6_listener() {\n      const l_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const cInput_r6 = i0.ɵɵreference(7);\n      const ctx_r2 = i0.ɵɵnextContext();\n      ctx_r2.addCard(l_r2.id, cInput_r6.value);\n      return i0.ɵɵresetView(cInput_r6.value = \"\");\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const l_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", l_r2.title, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.cards[l_r2.id]);\n  }\n}\nexport class BoardDetailPageComponent {\n  route;\n  listService;\n  cardService;\n  boardId;\n  lists = [];\n  cards = {};\n  newListTitle = '';\n  newCardTitle = '';\n  constructor(route, listService, cardService) {\n    this.route = route;\n    this.listService = listService;\n    this.cardService = cardService;\n  }\n  ngOnInit() {\n    this.boardId = Number(this.route.snapshot.paramMap.get('id'));\n    this.loadLists();\n  }\n  loadLists() {\n    this.listService.getLists(this.boardId).subscribe(data => {\n      this.lists = data;\n      this.lists.forEach(l => this.loadCards(l.id));\n    });\n  }\n  loadCards(listId) {\n    this.cardService.getCards(listId).subscribe(data => this.cards[listId] = data);\n  }\n  addList() {\n    if (this.newListTitle) this.listService.createList(this.boardId, this.newListTitle).subscribe(() => {\n      this.newListTitle = '';\n      this.loadLists();\n    });\n  }\n  addCard(listId, title) {\n    if (title) this.cardService.createCard(listId, title).subscribe(() => this.loadCards(listId));\n  }\n  delList(id) {\n    this.listService.deleteList(this.boardId, id).subscribe(() => this.loadLists());\n  }\n  delCard(listId, id) {\n    this.cardService.deleteCard(listId, id).subscribe(() => this.loadCards(listId));\n  }\n  static ɵfac = function BoardDetailPageComponent_Factory(t) {\n    return new (t || BoardDetailPageComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ListService), i0.ɵɵdirectiveInject(i3.CardService));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BoardDetailPageComponent,\n    selectors: [[\"app-board-detail-page\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 9,\n    vars: 2,\n    consts: [[\"cInput\", \"\"], [1, \"container\"], [\"href\", \"/\"], [2, \"margin\", \"20px 0\"], [\"placeholder\", \"List title...\", 3, \"ngModelChange\", \"ngModel\"], [1, \"btn\", \"btn-blue\", 3, \"click\"], [2, \"white-space\", \"nowrap\", \"overflow-x\", \"auto\"], [\"class\", \"list-box\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-box\"], [2, \"font-weight\", \"bold\", \"margin-bottom\", \"10px\"], [2, \"float\", \"right\", 3, \"click\"], [\"class\", \"card-box\", 4, \"ngFor\", \"ngForOf\"], [\"placeholder\", \"Card name...\", 3, \"keyup.enter\"], [1, \"card-box\"], [2, \"float\", \"right\", \"font-size\", \"8px\", 3, \"click\"]],\n    template: function BoardDetailPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 1)(1, \"a\", 2);\n        i0.ɵɵtext(2, \"\\u2190 Back\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"input\", 4);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function BoardDetailPageComponent_Template_input_ngModelChange_4_listener($event) {\n          i0.ɵɵtwoWayBindingSet(ctx.newListTitle, $event) || (ctx.newListTitle = $event);\n          return $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function BoardDetailPageComponent_Template_button_click_5_listener() {\n          return ctx.addList();\n        });\n        i0.ɵɵtext(6, \"Add List\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵtemplate(8, BoardDetailPageComponent_div_8_Template, 8, 2, \"div\", 7);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.newListTitle);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.lists);\n      }\n    },\n    dependencies: [CommonModule, i4.NgForOf, FormsModule, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel],\n    encapsulation: 2\n  });\n}","map":{"version":3,"names":["CommonModule","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵlistener","BoardDetailPageComponent_div_8_div_5_Template_button_click_2_listener","c_r5","ɵɵrestoreView","_r4","$implicit","l_r2","ɵɵnextContext","ctx_r2","ɵɵresetView","delCard","id","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","title","BoardDetailPageComponent_div_8_Template_button_click_3_listener","_r1","delList","ɵɵtemplate","BoardDetailPageComponent_div_8_div_5_Template","BoardDetailPageComponent_div_8_Template_input_keyup_enter_6_listener","cInput_r6","ɵɵreference","addCard","value","ɵɵproperty","cards","BoardDetailPageComponent","route","listService","cardService","boardId","lists","newListTitle","newCardTitle","constructor","ngOnInit","Number","snapshot","paramMap","get","loadLists","getLists","subscribe","data","forEach","l","loadCards","listId","getCards","addList","createList","createCard","deleteList","deleteCard","ɵɵdirectiveInject","i1","ActivatedRoute","i2","ListService","i3","CardService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","BoardDetailPageComponent_Template","rf","ctx","ɵɵtwoWayListener","BoardDetailPageComponent_Template_input_ngModelChange_4_listener","$event","ɵɵtwoWayBindingSet","BoardDetailPageComponent_Template_button_click_5_listener","BoardDetailPageComponent_div_8_Template","ɵɵtwoWayProperty","i4","NgForOf","i5","DefaultValueAccessor","NgControlStatus","NgModel","encapsulation"],"sources":["C:\\Users\\Sudhe\\trello\\trello-clone\\frontend\\src\\app\\components\\board-detail-page\\board-detail-page.component.ts","C:\\Users\\Sudhe\\trello\\trello-clone\\frontend\\src\\app\\components\\board-detail-page\\board-detail-page.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ListService } from '../../services/list.service';\r\nimport { CardService } from '../../services/card.service';\r\nimport { List } from '../../models/list.model';\r\nimport { Card } from '../../models/card.model';\r\n\r\n@Component({\r\n    selector: 'app-board-detail-page',\r\n    standalone: true,\r\n    imports: [CommonModule, FormsModule],\r\n    templateUrl: './board-detail-page.component.html'\r\n})\r\nexport class BoardDetailPageComponent implements OnInit {\r\n    boardId!: number;\r\n    lists: List[] = [];\r\n    cards: { [key: number]: Card[] } = {};\r\n    newListTitle = '';\r\n    newCardTitle = '';\r\n\r\n    constructor(private route: ActivatedRoute, private listService: ListService, private cardService: CardService) { }\r\n\r\n    ngOnInit() {\r\n        this.boardId = Number(this.route.snapshot.paramMap.get('id'));\r\n        this.loadLists();\r\n    }\r\n\r\n    loadLists() {\r\n        this.listService.getLists(this.boardId).subscribe(data => {\r\n            this.lists = data;\r\n            this.lists.forEach(l => this.loadCards(l.id));\r\n        });\r\n    }\r\n\r\n    loadCards(listId: number) {\r\n        this.cardService.getCards(listId).subscribe(data => this.cards[listId] = data);\r\n    }\r\n\r\n    addList() {\r\n        if (this.newListTitle) this.listService.createList(this.boardId, this.newListTitle).subscribe(() => { this.newListTitle = ''; this.loadLists(); });\r\n    }\r\n\r\n    addCard(listId: number, title: string) {\r\n        if (title) this.cardService.createCard(listId, title).subscribe(() => this.loadCards(listId));\r\n    }\r\n\r\n    delList(id: number) { this.listService.deleteList(this.boardId, id).subscribe(() => this.loadLists()); }\r\n    delCard(listId: number, id: number) { this.cardService.deleteCard(listId, id).subscribe(() => this.loadCards(listId)); }\r\n}","<div class=\"container\">\r\n    <a href=\"/\">← Back</a>\r\n    <div style=\"margin: 20px 0;\">\r\n        <input [(ngModel)]=\"newListTitle\" placeholder=\"List title...\">\r\n        <button class=\"btn btn-blue\" (click)=\"addList()\">Add List</button>\r\n    </div>\r\n    <div style=\"white-space: nowrap; overflow-x: auto;\">\r\n        <div *ngFor=\"let l of lists\" class=\"list-box\">\r\n            <div style=\"font-weight: bold; margin-bottom: 10px;\">\r\n                {{l.title}}\r\n                <button (click)=\"delList(l.id)\" style=\"float: right;\">X</button>\r\n            </div>\r\n            <div *ngFor=\"let c of cards[l.id]\" class=\"card-box\">\r\n                {{c.title}}\r\n                <button (click)=\"delCard(l.id, c.id)\" style=\"float: right; font-size: 8px;\">X</button>\r\n            </div>\r\n            <input #cInput placeholder=\"Card name...\" (keyup.enter)=\"addCard(l.id, cInput.value); cInput.value=''\">\r\n        </div>\r\n    </div>\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}